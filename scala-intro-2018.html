<!doctype html>
<html lang="en">

<!-- print with:
phantomjs plugin/print-pdf/print-pdf.js "file:///Users/adriaan/git/reveal.js/scala-intro-2018.html?print-pdf" scala-intro.pdf 1200x800
-->

<head>
  <meta charset="utf-8">

  <title>Scala</title>

  <meta name="description" content="Introduction to Scala, 2018">
  <meta name="author" content="Adriaan Moors">

  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

  <link rel="stylesheet" href="css/reveal.css">
  <link rel="stylesheet" href="css/theme/typesafe.css" id="theme">

  <!-- Code syntax highlighting -->
  <link rel="stylesheet" href="lib/css/zenburn.css">

  <!-- Printing and PDF exports -->
  <script>
    var link = document.createElement( 'link' );
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
    document.getElementsByTagName( 'head' )[0].appendChild( link );
  </script>


  <!--[if lt IE 9]>
  <script src="lib/js/html5shiv.js"></script>
  <![endif]-->
</head>

<body>

<div class="reveal">

<div class='footer'><img style="height:1.5em; opacity: 0.66" src="images/lightbend-color-reverse.svg" title="Lightbend" alt="Lightbend"/></div>

<div class="slides">

<section><img src="images/lightbend-color-reverse.svg" title="Lightbend" style="width: 66%;" alt="Lightbend"/></section>

<section>
<h2>Scala</h2>
<!-- <h3 class="orange"></h3> -->
<h4 style="margin-top:75px">Adriaan <a style="opacity:0.75" href="http://twitter.com/adriaanm">@adriaanm</a> Moors</h4>
<h5 class="orange">Scala Team Lead</h5>
<h5 style="opacity: 0.75">https://github.com/adriaanm/talks/</h5>
</section>


<section> <!-- INTRO: WHY -->
<slide>
# Scala
## Unifies OO & FP
## Regular
## Pragmatic
</slide>

<slide>
# Unifier
## "Scala-ble"
  - FP & OOP
  - Safety in types & Convenience of inference
  - Oneliner â†’ 1MLoC
</slide>

<slide>
# Regular
</slide>

<slide>
## Syntactically

```
val    x              : T      = ???
def    m [Ti] (ai: Ui): U      = ???
class  C [Ti] (ai: Ui) extends P(aj) { ... }
object o               extends C(ai) { ... }
type   T                       = ...
type   T   >: L <: U
```
</slide>

<slide>
## Types come second
### because optional
  - public types are documentation
  - (â†” codegen: maintenance liability)
  - best types are unseen
    - e.g., definition-site variance
</slide>

<slide>
## Conceptually
### Pure OO
###  value = object
###  operation = method call
</slide>

<slide>
## No limits / exceptions
  - Arbitrary nesting
  - Higher-order (Methods and Types)
  - Operator names (Primitive types are types too)
</slide>


<slide>
### Everything is an expression
  - think in values, not side-effects
  - statement is expression `: Unit`
  - all types subject to polymorphism
  - âŸ¹ function types uniform
</slide>

<slide>
### Small core reaches far
#### Start small, grow methodically.
</slide>

<slide>
### Growing
  - `f(x)` = `f.apply(x)`
  - `for` comprehension
  - string interpolation
  - pattern matching / extractors
</slide>

<slide>
### Regularity begets flexibility
#### Our flexibility is your flexibility.

(Every operation == method: OO principles apply uniformly to language.)
</slide>

<slide>
### Flexibility requires discipline

The language is not opinionated, but programmer should be.
</slide>

<slide>
# Practical

#### simplest solution
#### solves the problem today
#### can understand tomorrow
#### evolve later
</slide>

<slide>
## Language is a tool

#### improve our understanding
#### through abstraction, static typing, purity
</slide>

<slide>
## Aid
### static types: refactor with confidence
type inference to refactor with ease

### FP: small abstractions in isolation
composed into different solutions

### abstraction: capture essence
not obscure it
<!-- balance abstraction cost versus cost of repeating yourself -->
</slide>

<slide>
## Shield from...
### ... implementation details: encapsulate!
OO's forte

### ... time: immutable
mutability exposes order of execution

<!-- (side effects ephemeral, values are real) -->
### ... space: asynchrony
synchrony exposes distance/failure
</slide>

</section> <!-- /INTRO -->


<section> <!-- OO -->

<slide>
# OO
</slide>

<slide>
# Classes and objects

```
class Person(val name: String) {
  def `ðŸ‘‹` = println(s"Hi, $name!")
  override def toString = s"Person($name)"
}

object a extends Person("Adriaan")
```
</slide>

<slide>
# Class
  - (primary) constructor (args to init members)
  - extends one other class, multiple traits
  - may be `abstract` / `final` / `sealed`
  - declares members
  - contains expressions (often code smell)
</slide>

<slide>
# Members
  - type: `class` / `trait` / `type`
  - value: `def` / `val` / `var` / `object`
  - syntax: `*keyword* *signature* [= *rhs*]`
</slide>

<slide>
# Member
## `def`: method
  - public by default
  - type params: `def id[T](x: T): T = x`
</slide>

<slide>
# Member
## `def`: method
  - dependent types: `def idReally(x: AnyRef): x.type = x`
  - `p.type` qualifies terms statically known to be `eq p`
</slide>

<slide>
# Member
## Access
  - Over-designed feature of Scala.
  - (Does not map well to JVM.)
  - Probably best to stick to `private`,
  - maybe qualified as: `private[this]`, `private[somePkg]`
  - `protected`: should we really privilege subclasses?
</slide>

<slide>
# Member
## `def`
  - multiple argument lists: 

```
// repl time!
def repeat(n: Int)(s: String): String = s * n
val thrice = repeat(3)
```
  
</slide>

<slide>
# Member
## `def`
</slide>

<slide>
# Member
## `val` / `var`
uniform access principle
`val x: Int` == `def x: Int; def x_= (v: Int): Unit`

`lazy val`


<slide>
# Traits

```
trait Waveable { def `ðŸ‘‹`: Unit }
```

compare to java interfaces: can have fields,...

linearisation

difference with class: don't statically know super

# Case class
```
case class Person(name: String)
```

auto-generate toString, equals, hashCode

# Object
  - single instance
  - `object` member replaces `static`


<slide>
  - string interpolation
  - `s"Hello $name"` is syntactic sugar

```
scala> val name = "a"
name: String = a

scala> s"Hello $name" // print
   scala.StringContext.apply("Hello ", "").s(name) // : String
```
</slide>


</section> <!-- /OO -->



<section> <!-- FP -->
# FP


# Simplicity
  - understand function purely in terms of input
  - compose functions safely into program
  - (de)construct values (~~mutate data~~)


<slide>
## Expression-based
### Cohesion
```scala
process(if (c) fooBar else woeleWoele)
```

more direct than

```scala
if (c) process(fooBar) else process(woeleWoele)
```
</slide>

<slide>
## Expression-based
### Cohesion?

```scala
var arg: Int = _

if (c) arg = woeleWoele 
else arg = fooBar

/* what was I doing again? */

process(arg) // oh yeah
```
</slide>

<slide>
  - pattern matching / extractors
</slide>




##  How I stopped worrying about variance
### "Just add +/- until it compiles."
### <div style="text-align: right; padding-right: 1em">-- me</div>


## We got y'all
### The type checker has your back.


## Function subtyping
### Definition specifies variance once
```scala
def map[R](mapper: T => R): Stream[R]
```
<div>&nbsp;</div>
### Wildcards everywhere
```java
<R> Stream<R> map(Function<? super T, ? extends R> mapper)
```

&nbsp;
### Over, and over


### And over

<slide>
# Function as object
  - `f(x)` = `f.apply(x)`

</slide>

<slide>
# Member v parameter
</slide>

<slide>
  higher-order method using pure OO
</slide>

<slide>
  - `for` comprehension
</slide>



<slide>
# Implicits
</slide>

</section> <!-- /FP -->



<section>
## Thank you
### Any Questions!?!
</section>


<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>

<script>
  // Full list of configuration options available at:
  // https://github.com/hakimel/reveal.js#configuration
  Reveal.initialize({
    controls: true,
    progress: true,
    slideNumber: true,
    history: true,
    center: true,
    help: true,
    transition: 'fade', // none/fade/slide/convex/concave/zoom

    // Optional reveal.js plugins
    dependencies: [
      { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
      { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
      { src: 'plugin/highlight/highlight.js', async: true, condition: function() { return true; }, callback: function() { hljs.initHighlightingOnLoad(); } },
      { src: 'plugin/zoom-js/zoom.js', async: true },
      { src: 'plugin/notes/notes.js', async: true }
    ]
  });

</script>
</body>
</html>
